set(SUBSYS_NAME proctor)
set(SUBSYS_DESC "Proctor: 3D feature benchmarking")
set(SUBSYS_DEPS common io filters sample_consensus segmentation search kdtree features surface octree registration visualization keypoints)
set(DEFAULT OFF)
set(REASON "")

if(NOT VTK_FOUND)
    set(DEFAULT FALSE)
    set(REASON "VTK was not found.")
else(NOT VTK_FOUND)
    set(DEFAULT TRUE)
    set(REASON)
    set(VTK_USE_FILE ${VTK_USE_FILE} CACHE INTERNAL "VTK_USE_FILE")
    include (${VTK_USE_FILE})
    include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include)
endif(NOT VTK_FOUND)

PCL_SUBSYS_OPTION(build ${SUBSYS_NAME} ${SUBSYS_DESC} ${DEFAULT} ${REASON})
PCL_SUBSYS_DEPEND(build ${SUBSYS_NAME} DEPS ${SUBSYS_DEPS} EXT_DEPS vtk)

if(build)
  include_directories(include/pcl/${SUBSYS_NAME})
  include_directories(include/pcl/)
  PCL_ADD_EXECUTABLE(proctor 
                     ${SUBSYS_NAME} 
                     src/main.cpp 
                     src/detector.cpp 
                     src/proctor.cpp 
                     src/scanner.cpp)
  target_link_libraries(proctor 
                        ${FLANN_LIBRARIES} 
                        ${PCL_COMMON_LIBRARIES} 
                        ${PCL_FEATURES_LIBRARIES} 
                        ${PCL_KEYPOINTS_LIBRARIES} 
                        ${PCL_IO_LIBRARIES} 
                        ${PCL_VISUALIZATION_LIBRARIES} 
                        vtkCommon vtkFiltering vtkGraphics vtkIO)
endif(build)

