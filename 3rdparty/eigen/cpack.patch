--- eigen/CMakeLists.txt	2011-04-14 23:36:01.000000000 -0700
+++ eigen/CMakeLists.txt	2011-04-14 23:29:55.000000000 -0700
@@ -391,3 +391,36 @@
 endif()
 
 message(STATUS "")
+
+# RPM
+find_program(RPM_PROGRAM rpm)
+if(EXISTS ${RPM_PROGRAM})
+  list(APPEND CPACK_GENERATOR "RPM")
+endif(EXISTS ${RPM_PROGRAM})
+# DEB
+find_program(DPKG_PROGRAM dpkg)
+if(EXISTS ${DPKG_PROGRAM})
+  list(APPEND CPACK_GENERATOR "DEB")
+endif(EXISTS ${DPKG_PROGRAM})
+# NSIS
+find_program(NSIS_PROGRAM makensis MakeNSIS)
+if(EXISTS ${NSIS_PROGRAM})
+  list(APPEND CPACK_GENERATOR "NSIS")
+endif(EXISTS ${NSIS_PROGRAM})
+# dpkg
+find_program(PACKAGE_MAKER_PROGRAM PackageMaker
+	    HINTS /Developer/Applications/Utilities)
+if(EXISTS ${PACKAGE_MAKER_PROGRAM})
+  list(APPEND CPACK_GENERATOR "PackageMaker")
+endif(EXISTS ${PACKAGE_MAKER_PROGRAM})
+ 
+set(CPACK_GENERATOR "${CPACK_GENERATOR}")
+include(InstallRequiredSystemLibraries)
+set(CPACK_PACKAGE_CONTACT "eigen@lists.tuxfamily.org")
+set(CPACK_SET_DESTDIR ON)
+set(CPACK_MONOLITHIC_INSTALL 1)
+set(CPACK_PACKAGE_VERSION_MAJOR "@EIGEN_WORLD_VERSION@")
+set(CPACK_PACKAGE_VERSION_MINOR "@EIGEN_MAJOR_VERSION@")
+set(CPACK_PACKAGE_VERSION_PATCH "@EIGEN_MINOR_VERSION@")
+include(CPack)
+
